interactions:
- request:
    body: '{"location": "westus", "tags": {"use": "az-test"}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group create]
      Connection: [keep-alive]
      Content-Length: ['50']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:54:10 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''{"name": "iot-hub-for-cert-test000003"}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Length: ['60']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Devices/checkNameAvailability?api-version=2018-04-01
  response:
    body: {string: '{"nameAvailable":true,"reason":"Invalid","message":null}'}
    headers:
      cache-control: [no-cache]
      content-length: ['56']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:54:10 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1197']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2017-05-10
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002","name":"clitest.rg000002","location":"westus","tags":{"use":"az-test"},"properties":{"provisioningState":"Succeeded"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['328']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:54:10 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"location": "westus", "properties": {"eventHubEndpoints": {"events": {"retentionTimeInDays":
      1, "partitionCount": 2}}}, "sku": {"name": "S1", "capacity": 1}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      Content-Length: ['158']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2018-04-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"377c3343-75bb-4244-98a3-0fb84a830c4b","resourcegroup":"clitest.rg000002","properties":{"state":"Activating","provisioningState":"Accepted","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfNDE1NjY2NWYtZGZhOC00MWJiLTgzY2YtYzVlNjQzZGNiY2U5?api-version=2018-04-01&asyncinfo']
      cache-control: [no-cache]
      content-length: ['990']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:54:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-resource-requests: ['4999']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfNDE1NjY2NWYtZGZhOC00MWJiLTgzY2YtYzVlNjQzZGNiY2U5?api-version=2018-04-01&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:54:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfNDE1NjY2NWYtZGZhOC00MWJiLTgzY2YtYzVlNjQzZGNiY2U5?api-version=2018-04-01&asyncinfo
  response:
    body: {string: '{"status":"Running"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['20']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:55:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/operationResults/b3NfaWhfNDE1NjY2NWYtZGZhOC00MWJiLTgzY2YtYzVlNjQzZGNiY2U5?api-version=2018-04-01&asyncinfo
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:55:45 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub create]
      Connection: [keep-alive]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003?api-version=2018-04-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003","name":"iot-hub-for-cert-test000003","type":"Microsoft.Devices/IotHubs","location":"westus","tags":{},"subscriptionid":"377c3343-75bb-4244-98a3-0fb84a830c4b","resourcegroup":"clitest.rg000002","etag":"AAAAAAHlTUw=","properties":{"operationsMonitoringProperties":{"events":{"None":"None","Connections":"None","DeviceTelemetry":"None","C2DCommands":"None","DeviceIdentityOperations":"None","FileUploadOperations":"None","Routes":"None"}},"state":"Active","provisioningState":"Succeeded","ipFilterRules":[],"hostName":"iot-hub-for-cert-test000003.azure-devices.net","eventHubEndpoints":{"events":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot-hub-for-cert-testngmd","endpoint":"sb://iothub-ns-iot-hub-fo-460283-811ffd7d63.servicebus.windows.net/"},"operationsMonitoringEvents":{"retentionTimeInDays":1,"partitionCount":2,"partitionIds":["0","1"],"path":"iot-hub-for-cert-testngmd-operationmonitoring","endpoint":"sb://iothub-ns-iot-hub-fo-460283-811ffd7d63.servicebus.windows.net/"}},"routing":{"endpoints":{"serviceBusQueues":[],"serviceBusTopics":[],"eventHubs":[],"storageContainers":[]},"routes":[],"fallbackRoute":{"name":"$fallback","source":"DeviceMessages","condition":"true","endpointNames":["events"],"isEnabled":true}},"storageEndpoints":{"$default":{"sasTtlAsIso8601":"PT1H","connectionString":"","containerName":""}},"messagingEndpoints":{"fileNotifications":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"enableFileUploadNotifications":false,"cloudToDevice":{"maxDeliveryCount":10,"defaultTtlAsIso8601":"PT1H","feedback":{"lockDurationAsIso8601":"PT1M","ttlAsIso8601":"PT1H","maxDeliveryCount":10}},"features":"None"},"sku":{"name":"S1","tier":"Standard","capacity":1}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['2083']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:55:45 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate create]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2018-04-01
  response:
    body: {string: '{"value":[]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['12']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:55:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDHTCCAgWgAwIBAgIIYsSAI3ONyYwwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRlajZ6am11NHo3eW94cGs3MB4XDTE4MDUwODIwNTQwOFoXDTE4\r\nMDUxMjIwNTQwOFowIzEhMB8GA1UEAwwYVEVTVENFUlRlajZ6am11NHo3eW94cGs3\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQA7jT8/EeIaq9gYHCsdQnUz\r\n02x1g1qQfTRXrI7um7nyfLpbuFNvvuOWd91qO6SvA21ytNJ71SUPlbTJlI1J073n\r\nehCPMKeYfgHIxttRw7SEMKar00Fh2lr/GDbHcTc24ujIwvQEuqjVMWDDE5TMMJBA\r\nPha0SsVkTbQQvCBP0rhr1TVYujkRFnN6F6LP3oXnauRm64pCjgq9DeY7B6qQkrkh\r\n5PTNXzXy4/BSmoXAfeP0kNRNAVa46M8pQ35MGi4mUDC4ijT4JprlmUR6c4za4EBN\r\nZFoXc1lRmzYAS2XKEO14PTcLtlPgmndhUe2frY4Dehiu82PENX12iIBVSFS43Ajn\r\nAgMBAAGjVjBUMBIGA1UdEwEB/wQIMAYBAf8CAQEwHQYDVR0OBBYEFNo5o+5ea0sN\r\nMlW/75VgGJCv2AcJMB8GA1UdIwQYMBaAFNo5o+5ea0sNMlW/75VgGJCv2AcJMA0G\r\nCSqGSIb3DQEBCwUAA4IBAQAGrEVpLHKKIgz2mO9gwS9jOZS43Fw3nZpbLxLs4wtC\r\na7+JaJE78kqR4Cr9VD6tJ2GlbR/m6EtPo6nOiHxhlAkHoHV/RHGduUi385kI5Azp\r\na7wz3MAfjL0pRxoocAy9LjdD2AGxH9C3eZz9pnc1PykS/mhuzUM5UiNiOYYzqwcn\r\n0ISMXz+jQql6SmmZ3fIY35Ytx9/GwFYwyZW9Y2210EITXSBarC6sOa/fK8aJHZPm\r\neycVFLSyY80u2XZRU6va5dAvKNuEb1DTsPjZHMCS46U46e0i2JAWpEXopRo1RVjs\r\nU9ughA78tJsfEC+yDxTEhLixvvdvhKkTOILxB7N9W3aA\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate create]
      Connection: [keep-alive]
      Content-Length: ['1215']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2018-04-01
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000001","expiry":"Sat, 12
        May 2018 20:54:08 GMT","thumbprint":"BCCE677A208B10E92F6812B8833C29A1FAE4F0BC","isVerified":false,"created":"Wed,
        09 May 2018 20:55:47 GMT","updated":"Wed, 09 May 2018 20:55:47 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAHlTW0="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['681']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:55:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate list]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates?api-version=2018-04-01
  response:
    body: {string: '{"value":[{"properties":{"subject":"CN=TESTCERT000001","expiry":"Sat,
        12 May 2018 20:54:08 GMT","thumbprint":"BCCE677A208B10E92F6812B8833C29A1FAE4F0BC","isVerified":false,"created":"Wed,
        09 May 2018 20:55:47 GMT","updated":"Wed, 09 May 2018 20:55:47 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAHlTW0="}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['693']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:55:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate show]
      Connection: [keep-alive]
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2018-04-01
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000001","expiry":"Sat, 12
        May 2018 20:54:08 GMT","thumbprint":"BCCE677A208B10E92F6812B8833C29A1FAE4F0BC","isVerified":false,"created":"Wed,
        09 May 2018 20:55:47 GMT","updated":"Wed, 09 May 2018 20:55:47 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAHlTW0="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['681']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:55:48 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate generate-verification-code]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAHlTW0=]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/generateVerificationCode?api-version=2018-04-01
  response:
    body: {string: '{"properties":{"verificationCode":"24041EF3146DB83FFEDA298CF1070F4205EA13AE85795C65","subject":"CN=TESTCERT000001","expiry":"Sat,
        12 May 2018 20:54:08 GMT","thumbprint":"BCCE677A208B10E92F6812B8833C29A1FAE4F0BC","isVerified":false,"created":"Wed,
        09 May 2018 20:55:47 GMT","updated":"Wed, 09 May 2018 20:55:49 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAHlTYQ="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['751']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:55:49 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: '{"certificate": "-----BEGIN CERTIFICATE-----\r\nMIIDAjCCAeqgAwIBAgIISP3e/vZI2jYwDQYJKoZIhvcNAQELBQAwIzEhMB8GA1UE\r\nAwwYVEVTVENFUlRlajZ6am11NHo3eW94cGs3MB4XDTE4MDUwOTIwNTU1MFoXDTE4\r\nMDUxMjIwNTU1MFowOzE5MDcGA1UEAwwwMjQwNDFFRjMxNDZEQjgzRkZFREEyOThD\r\nRjEwNzBGNDIwNUVBMTNBRTg1Nzk1QzY1MIIBITANBgkqhkiG9w0BAQEFAAOCAQ4A\r\nMIIBCQKCAQAw1wvqTSzH0Dq+GAsOi9siGH5B+PpdKlI4MD8iTMNwnZ+wmp+m+Lfp\r\n4CcUm7DJ01Hb3cSg7cj9iPKVvA9dwzwmw0q2Re3W/emk/tFroavK+dE0Dz5krCUg\r\neY3+80cCmSRymos8FAvqvYvdIkWIEtL51FDKO6CC7z04C8i7ceL1CvVySZX79Et/\r\nSjdKjXVeIBWqza4k4qqhaISm3r2hxNYJi1ZTCOG6PaCIQmNqFA/MuyokptKuqcxz\r\n5FrET7pThhvIzafB4wu1dVC/8hcSKOes9ON/YOx19z+fuD+IE0oIlIZW2CY/i3eJ\r\ngTj8Ds5IiWPEYcjcsV51keIZ0YZqwk3pAgMBAAGjIzAhMB8GA1UdIwQYMBaAFNo5\r\no+5ea0sNMlW/75VgGJCv2AcJMA0GCSqGSIb3DQEBCwUAA4IBAQAOdPsVWiNq6yzt\r\nN7xHZnic6RqbCPHTtXPmZbU7zoJgXHVDZgBXcT0cvIslNY4xlkqBvK/vqE6zfesi\r\nvJndagUZyXSfRxkyx1BimikgJw90ps95XNZsdXS+PReahiYTSyXCbP68WZUGO3gb\r\nJY+3RmjzMeo9L2YEPwKN57Ow6fv2BsObbTjtl2i/xMaueEzoplrjEH0OyVVistm3\r\nPuz8In2//ULc4nvmDWbJlskOfNMNLFaksLf1qUEdVOFlqNhFBg5OtEOxBQhIRIxC\r\nflX+MjtLXN6lTrhmcA7NOEhgERbAaK6A2eYgAE43fjLv5jGb/w+uWuRXZdpkxLan\r\ny5/JLn0P\r\n-----END
      CERTIFICATE-----\r\n"}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate verify]
      Connection: [keep-alive]
      Content-Length: ['1179']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAHlTYQ=]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004/verify?api-version=2018-04-01
  response:
    body: {string: '{"properties":{"subject":"CN=TESTCERT000001","expiry":"Sat, 12
        May 2018 20:54:08 GMT","thumbprint":"BCCE677A208B10E92F6812B8833C29A1FAE4F0BC","isVerified":true,"created":"Wed,
        09 May 2018 20:55:47 GMT","updated":"Wed, 09 May 2018 20:55:50 GMT"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004","name":"certificate-000004","type":"Microsoft.Devices/IotHubs/Certificates","etag":"AAAAAAHlTYc="}'}
    headers:
      cache-control: [no-cache]
      content-length: ['680']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 09 May 2018 20:55:50 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [iot hub certificate delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      If-Match: [AAAAAAHlTYc=]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 azure-mgmt-iothub/0.5.0 Azure-SDK-For-Python AZURECLI/2.0.30]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000002/providers/Microsoft.Devices/IotHubs/iot-hub-for-cert-test000003/certificates/certificate-000004?api-version=2018-04-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Wed, 09 May 2018 20:55:52 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-HTTPAPI/2.0]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [group delete]
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.3 (Windows-10-10.0.14393-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.29 resourcemanagementclient/1.2.1 Azure-SDK-For-Python
          AZURECLI/2.0.30]
      accept-language: [en-US]
    method: DELETE
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000002?api-version=2017-05-10
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Wed, 09 May 2018 20:55:52 GMT']
      expires: ['-1']
      location: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/operationresults/eyJqb2JJZCI6IlJFU09VUkNFR1JPVVBERUxFVElPTkpPQi1DTElURVNUOjJFUkdGUkdJTzcyRzdYSUVNUUlYR1c1WFRPQTIzVkVYUTdNRzQzUHwyQTEzQkJCMDZFQ0E3MkVCLVdFU1RVUyIsImpvYkxvY2F0aW9uIjoid2VzdHVzIn0?api-version=2017-05-10']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-deletes: ['14999']
    status: {code: 202, message: Accepted}
version: 1
